https://onlinegdb.com/OgI72FhKj
#include <iostream>
#include <fstream>
#include <string>
#include <map>
using namespace std;

void twoLetter(string line) {
  map <string, int> fileText;

  for (int countOne = 0; countOne < line.length() - 2; ++countOne) {
    string sb = line.substr(countOne, 2);
    if (fileText.count(sb) > 0) {
        continue;
    }
    for (int countTwo = countOne + 1; countTwo < line.length() - 1; ++countTwo) {
      if (sb == line.substr(countTwo, 2))
        fileText[sb]++;
    }
  }
  for (auto symbol : fileText) {
    cout << symbol.first << ": " << symbol.second + 1 << endl;
  }
}

void oneLetter() {
  ifstream fin("text.txt");
  string vs, filter;
  bool f = true;

  while (getline(fin, vs)) {
    for (int count = 0; count < vs.length(); ++count) {
      if ((vs[count] >= 'a' && vs[count] <= 'z') || (vs[count] >= 'A' && vs[count] <= 'Z')) {
        filter = filter + vs[count];
        f = true;
      }
    }
  }

  for (int count = 0; count < filter.length(); ++count)
    filter[count] = tolower(filter[count]);

  map <char, int> stringMap;
  for (auto vse : filter) ++stringMap[vse];
  for (auto vse : stringMap) cout << vse.first << ": " << vse.second << endl;
  cout << endl;
  fin.close();
}

int main() {
  setlocale(LC_ALL, "Russian");
  char text; string str;

  //Однобуквенные сочетания
  oneLetter();

  //Двухбуквенные сочетания
  ifstream file("text.txt");
  if (file) {
    char ch;
    while(file.get(ch))
      str += ch;
      twoLetter(str);
  }
  else {
    cout  <<  "Файл не найден"  <<  endl;
  }
  file.close();
  return 0;
}
